{"ast":null,"code":"import { submitBusiness } from './../../store/contact.action';\nimport { FormControl } from '@angular/forms';\nimport { select } from '@ngrx/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/common\";\n\nfunction CreateComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", option_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r4, \" \");\n  }\n}\n\nfunction CreateComponent_ng_container_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 29)(2, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CreateComponent_ng_container_25_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addContact());\n    });\n    i0.ɵɵtext(3, \" Add Contact \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction CreateComponent_ng_container_26_div_1_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 45);\n    i0.ɵɵelement(2, \"input\", 46);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const pi_r13 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", pi_r13);\n  }\n}\n\nfunction CreateComponent_ng_container_26_div_1_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 45);\n    i0.ɵɵelement(2, \"input\", 47);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ei_r15 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", ei_r15);\n  }\n}\n\nfunction CreateComponent_ng_container_26_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 33)(2, \"p\", 4);\n    i0.ɵɵtext(3, \"Add Contact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"div\", 34)(6, \"label\", 7);\n    i0.ɵɵtext(7, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 34)(10, \"label\", 7);\n    i0.ɵɵtext(11, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 34)(14, \"label\", 7);\n    i0.ɵɵtext(15, \"Legal Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 34)(18, \"label\", 7);\n    i0.ɵɵtext(19, \"Phone Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerStart(20, 38);\n    i0.ɵɵelementStart(21, \"div\", 39);\n    i0.ɵɵtemplate(22, CreateComponent_ng_container_26_div_1_div_22_Template, 3, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementStart(23, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function CreateComponent_ng_container_26_div_1_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r9 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.addContactPhone(i_r9));\n    });\n    i0.ɵɵtext(24, \" Add more \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 34)(26, \"label\", 7);\n    i0.ɵɵtext(27, \"Email Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerStart(28, 41);\n    i0.ɵɵelementStart(29, \"div\", 39);\n    i0.ɵɵtemplate(30, CreateComponent_ng_container_26_div_1_div_30_Template, 3, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementStart(31, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function CreateComponent_ng_container_26_div_1_Template_button_click_31_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r9 = restoredCtx.index;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.addContactEmail(i_r9));\n    });\n    i0.ɵɵtext(32, \" Add more \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 42)(34, \"button\", 43);\n    i0.ɵɵtext(35, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function CreateComponent_ng_container_26_div_1_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.getValue());\n    });\n    i0.ɵɵtext(37, \" Add \");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const i_r9 = ctx.index;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r9);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.contactPhone(i_r9).controls);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.contactEmail(i_r9).controls);\n  }\n}\n\nfunction CreateComponent_ng_container_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 31);\n    i0.ɵɵtemplate(1, CreateComponent_ng_container_26_div_1_Template, 38, 3, \"div\", 32);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.contactInfo().controls);\n  }\n}\n\nfunction CreateComponent_ng_container_27_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"p\", 4);\n    i0.ɵɵtext(2, \"Contact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5)(4, \"div\", 50)(5, \"div\", 51);\n    i0.ɵɵtext(6, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 51);\n    i0.ɵɵtext(8, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 51);\n    i0.ɵɵtext(10, \"Legal Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 51);\n    i0.ɵɵtext(12, \"Phone Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 51);\n    i0.ɵɵtext(14, \"Email Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"div\", 51);\n    i0.ɵɵelementStart(16, \"div\", 52)(17, \"div\", 53);\n    i0.ɵɵtext(18, \"This is some text within a card body.\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\n\nfunction CreateComponent_ng_container_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CreateComponent_ng_container_27_div_1_Template, 19, 0, \"div\", 48);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const items_r20 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", items_r20.length > 0);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    display: a0\n  };\n};\n\nexport class CreateComponent {\n  constructor(fb, store) {\n    this.fb = fb;\n    this.store = store;\n    this.modalGroupName = new FormControl('');\n    this.options = [];\n    this.selectedOption = '';\n    this.displayStyle = 'none';\n    this.isLoaded = false;\n  }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      businessName: this.fb.control(''),\n      address: this.fb.control(''),\n      groupName: this.fb.control(''),\n      contactinfo: this.fb.array([])\n    });\n    this.data$ = this.store.pipe(select('business'));\n  }\n\n  contactInfo() {\n    return this.form.get('contactinfo');\n  }\n\n  newContact() {\n    return this.fb.group({\n      type: this.fb.control(''),\n      name: this.fb.control(''),\n      legalName: this.fb.control(''),\n      phoneNumber: this.fb.array([]),\n      emailAddress: this.fb.array([])\n    });\n  }\n\n  addContact() {\n    this.isLoaded = false;\n    this.contactInfo().push(this.newContact());\n    this.addContactEmail(0);\n    this.addContactPhone(0);\n  }\n\n  contactEmail(index) {\n    return this.contactInfo().at(index).get('emailAddress');\n  }\n\n  newEmail() {\n    return this.fb.group({\n      email: ''\n    });\n  }\n\n  addContactEmail(index) {\n    this.contactEmail(index).push(this.newEmail());\n  }\n\n  contactPhone(index) {\n    return this.contactInfo().at(index).get('phoneNumber');\n  }\n\n  newPhone() {\n    return this.fb.group({\n      phone: ''\n    });\n  }\n\n  addContactPhone(index) {\n    this.contactPhone(index).push(this.newPhone());\n  }\n\n  getValue() {\n    console.log(this.form.value);\n    this.store.dispatch(submitBusiness({\n      business: this.form.value\n    }));\n    this.store.subscribe(state => console.log(state)).unsubscribe();\n    this.form.reset();\n    this.isLoaded = true;\n  }\n\n  selectOption(e) {\n    this.selectedOption = e.target.value;\n\n    if (this.selectedOption === '1') {\n      this.displayStyle = 'block';\n    }\n  }\n\n  openPopup() {\n    this.displayStyle = 'block';\n  }\n\n  savePopup() {\n    const val = this.modalGroupName.value;\n    this.options.push(val);\n    this.displayStyle = 'none';\n    this.modalGroupName.reset();\n  }\n\n  close() {\n    this.displayStyle = 'none';\n  }\n\n}\n\nCreateComponent.ɵfac = function CreateComponent_Factory(t) {\n  return new (t || CreateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Store));\n};\n\nCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateComponent,\n  selectors: [[\"app-create\"]],\n  decls: 44,\n  vars: 12,\n  consts: [[1, \"container\", 2, \"background-color\", \"white\"], [3, \"formGroup\"], [1, \"fw-bold\", \"px-1\", 2, \"padding-top\", \"15px\"], [1, \"card\", \"p-3\", \"border-style\"], [1, \"fw-bold\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [1, \"form-label\"], [\"type\", \"email\", \"formControlName\", \"businessName\", \"placeholder\", \"Enter business name\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"Enter address\", \"formControlName\", \"address\", 1, \"form-control\"], [\"formControlName\", \"groupName\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"1\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"formArrayName\", \"contactinfo\", 4, \"ngIf\"], [1, \"mb-3\", 2, \"visibility\", \"hidden\"], [1, \"modal\", \"modal-backdrop\", 3, \"ngStyle\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Enter group name\", 1, \"form-control\", 3, \"formControl\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [3, \"ngValue\"], [1, \"col-md-6\", \"d-flex\", \"align-items-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", 3, \"click\"], [\"formArrayName\", \"contactinfo\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"p-3\", \"mt-3\", \"border-style\", 3, \"formGroupName\"], [1, \"col-md-4\"], [\"type\", \"text\", \"formControlName\", \"type\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"Enter name\", \"formControlName\", \"name\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"Enter legal name\", \"formControlName\", \"legalName\", 1, \"form-control\"], [\"formArrayName\", \"phoneNumber\"], [1, \"col-md-12\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", 2, \"text-decoration\", \"none\", \"font-size\", \"small\", 3, \"click\"], [\"formArrayName\", \"emailAddress\"], [1, \"col-md-4\", \"d-flex\", \"align-items-center\", \"justify-content-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 2, \"width\", \"100px\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"margin-left\", \"5px\", \"width\", \"100px\", 3, \"click\"], [1, \"mb-2\", 3, \"formGroupName\"], [\"type\", \"text\", \"formControlName\", \"phone\", \"placeholder\", \"Enter phone#\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"email\", \"placeholder\", \"Enter email address\", 1, \"form-control\"], [\"class\", \"card p-3 mt-3 border-style\", 4, \"ngIf\"], [1, \"card\", \"p-3\", \"mt-3\", \"border-style\"], [1, \"row\", \"col-md-12\", \"mt-1\"], [1, \"col-md-2\"], [1, \"card\", \"mt-3\"], [1, \"card-body\"]],\n  template: function CreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"p\", 2);\n      i0.ɵɵtext(3, \"Add new customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"p\", 4);\n      i0.ɵɵtext(6, \"Business Information\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"label\", 7);\n      i0.ɵɵtext(10, \"Business Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 6)(17, \"label\", 7);\n      i0.ɵɵtext(18, \"Add Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"select\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateComponent_Template_select_ngModelChange_19_listener($event) {\n        return ctx.selectedOption = $event;\n      })(\"change\", function CreateComponent_Template_select_change_19_listener($event) {\n        return ctx.selectOption($event);\n      });\n      i0.ɵɵelementStart(20, \"option\", 11);\n      i0.ɵɵtext(21, \"Select Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"option\", 12);\n      i0.ɵɵtext(23, \"Add Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, CreateComponent_option_24_Template, 2, 2, \"option\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(25, CreateComponent_ng_container_25_Template, 4, 0, \"ng-container\", 14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(26, CreateComponent_ng_container_26_Template, 2, 1, \"ng-container\", 15);\n      i0.ɵɵtemplate(27, CreateComponent_ng_container_27_Template, 2, 1, \"ng-container\", 14);\n      i0.ɵɵpipe(28, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 16);\n      i0.ɵɵtext(30, \"Test\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\", 17)(32, \"div\", 18)(33, \"div\", 19)(34, \"div\", 20)(35, \"h4\", 21);\n      i0.ɵɵtext(36, \"Enter Group Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function CreateComponent_Template_button_click_37_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 23)(39, \"div\", 24);\n      i0.ɵɵelement(40, \"input\", 25);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 26)(42, \"button\", 27);\n      i0.ɵɵlistener(\"click\", function CreateComponent_Template_button_click_42_listener() {\n        return ctx.savePopup();\n      });\n      i0.ɵɵtext(43, \" Save \");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedOption);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.options);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.contactInfo().controls.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(28, 8, ctx.data$));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c0, ctx.displayStyle));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formControl\", ctx.modalGroupName);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i3.NgStyle, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormControlDirective, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName, i3.AsyncPipe],\n  styles: [\".modal-backdrop[_ngcontent-%COMP%] {\\n  background-color: rgba(0, 0, 0, 0.5);\\n}\\n\\n.border-style[_ngcontent-%COMP%] {\\n  border: 2px dashed rgba(128, 128, 128, 0.407);\\n}\\n\\n.btn-option1[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: #fff;\\n  border: none;\\n  border-radius: 4px;\\n  padding: 8px 16px;\\n  cursor: pointer;\\n}\\n\\n.btn-option1[_ngcontent-%COMP%]:hover {\\n  background-color: #0062cc;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9DQUFBO0FBQ0Y7O0FBRUE7RUFDRSw2Q0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBQ0E7RUFDRSx5QkFBQTtBQUVGIiwiZmlsZSI6ImNyZWF0ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tb2RhbC1iYWNrZHJvcCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbn1cblxuLmJvcmRlci1zdHlsZSB7XG4gIGJvcmRlcjogMnB4IGRhc2hlZCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuNDA3KTtcbn1cblxuLmJ0bi1vcHRpb24xIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBwYWRkaW5nOiA4cHggMTZweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLmJ0bi1vcHRpb24xOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNjJjYztcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["submitBusiness","FormControl","select","i0","CreateComponent","constructor","fb","store","ngOnInit","form","group","businessName","control","address","groupName","contactinfo","array","data$","pipe","contactInfo","get","newContact","type","name","legalName","phoneNumber","emailAddress","addContact","isLoaded","push","addContactEmail","addContactPhone","contactEmail","index","at","newEmail","email","contactPhone","newPhone","phone","getValue","console","log","value","dispatch","business","subscribe","state","unsubscribe","reset","selectOption","e","selectedOption","target","displayStyle","openPopup","savePopup","val","modalGroupName","options","close","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\code\\mre-assignment\\src\\app\\component\\create\\create.component.ts","C:\\code\\mre-assignment\\src\\app\\component\\create\\create.component.html"],"sourcesContent":["import { submitBusiness } from './../../store/contact.action';\nimport { Business } from './../../_shared/model/model';\nimport { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { Store, select } from '@ngrx/store';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { tap } from 'rxjs';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.component.html',\n  styleUrls: ['./create.component.scss'],\n})\nexport class CreateComponent implements OnInit {\n  form!: FormGroup;\n  modalGroupName: FormControl = new FormControl('');\n  options = [];\n  selectedOption: string = '';\n  displayStyle = 'none';\n  data$!: Observable<any>;\n  isLoaded: boolean = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private store: Store<{ business: Business }>\n  ) {}\n\n  ngOnInit(): void {\n    this.form = this.fb.group({\n      businessName: this.fb.control(''),\n      address: this.fb.control(''),\n      groupName: this.fb.control(''),\n      contactinfo: this.fb.array([]),\n    });\n    this.data$ = this.store.pipe(select('business'));\n  }\n\n  contactInfo(): FormArray {\n    return this.form.get('contactinfo') as FormArray;\n  }\n\n  newContact(): FormGroup {\n    return this.fb.group({\n      type: this.fb.control(''),\n      name: this.fb.control(''),\n      legalName: this.fb.control(''),\n      phoneNumber: this.fb.array([]),\n      emailAddress: this.fb.array([]),\n    });\n  }\n\n  addContact() {\n    this.isLoaded = false;\n    this.contactInfo().push(this.newContact());\n    this.addContactEmail(0);\n    this.addContactPhone(0);\n  }\n\n  contactEmail(index: number): FormArray {\n    return this.contactInfo().at(index).get('emailAddress') as FormArray;\n  }\n\n  newEmail(): FormGroup {\n    return this.fb.group({\n      email: '',\n    });\n  }\n\n  addContactEmail(index: number) {\n    this.contactEmail(index).push(this.newEmail());\n  }\n\n  contactPhone(index: number): FormArray {\n    return this.contactInfo().at(index).get('phoneNumber') as FormArray;\n  }\n\n  newPhone(): FormGroup {\n    return this.fb.group({\n      phone: '',\n    });\n  }\n\n  addContactPhone(index: number) {\n    this.contactPhone(index).push(this.newPhone());\n  }\n\n  getValue() {\n    console.log(this.form.value);\n    this.store.dispatch(submitBusiness({ business: this.form.value }));\n    this.store.subscribe((state) => console.log(state)).unsubscribe();\n    this.form.reset();\n    this.isLoaded = true;\n  }\n\n  selectOption(e: any) {\n    this.selectedOption = e.target.value;\n    if (this.selectedOption === '1') {\n      this.displayStyle = 'block';\n    }\n  }\n\n  openPopup() {\n    this.displayStyle = 'block';\n  }\n\n  savePopup() {\n    const val = this.modalGroupName.value as never;\n    this.options.push(val);\n    this.displayStyle = 'none';\n    this.modalGroupName.reset();\n  }\n\n  close() {\n    this.displayStyle = 'none';\n  }\n}\n","<div class=\"container\" style=\"background-color: white\">\n  <form [formGroup]=\"form\">\n    <p class=\"fw-bold px-1\" style=\"padding-top: 15px\">Add new customer</p>\n    <div class=\"card p-3 border-style\">\n      <p class=\"fw-bold\">Business Information</p>\n      <div class=\"row g-3\">\n        <div class=\"col-md-6\">\n          <label class=\"form-label\">Business Name</label>\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            formControlName=\"businessName\"\n            placeholder=\"Enter business name\"\n          />\n        </div>\n        <div class=\"col-md-6\">\n          <label class=\"form-label\">Address</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Enter address\"\n            formControlName=\"address\"\n          />\n        </div>\n        <div class=\"col-md-6\">\n          <label class=\"form-label\">Add Group</label>\n          <select\n            class=\"form-select\"\n            [(ngModel)]=\"selectedOption\"\n            formControlName=\"groupName\"\n            (change)=\"selectOption($event)\"\n          >\n            <option value=\"\" disabled selected>Select Group</option>\n            <option value=\"1\">Add Group</option>\n            <option *ngFor=\"let option of options\" [ngValue]=\"option\">\n              {{ option }}\n            </option>\n          </select>\n        </div>\n        <ng-container *ngIf=\"contactInfo().controls.length === 0\">\n          <div class=\"col-md-6 d-flex align-items-end\">\n            <button type=\"button\" class=\"btn btn-link\" (click)=\"addContact()\">\n              Add Contact\n            </button>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n    <ng-container formArrayName=\"contactinfo\" *ngIf=\"!isLoaded\">\n      <div *ngFor=\"let c of contactInfo().controls; let i = index\">\n        <div class=\"card p-3 mt-3 border-style\" [formGroupName]=\"i\">\n          <p class=\"fw-bold\">Add Contact</p>\n          <div class=\"row g-3\">\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Type</label>\n              <input type=\"text\" formControlName=\"type\" class=\"form-control\" />\n            </div>\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter name\"\n                formControlName=\"name\"\n              />\n            </div>\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Legal Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter legal name\"\n                formControlName=\"legalName\"\n              />\n            </div>\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Phone Number</label>\n\n              <ng-container formArrayName=\"phoneNumber\">\n                <div class=\"col-md-12\">\n                  <div\n                    *ngFor=\"let p of contactPhone(i).controls; let pi = index\"\n                  >\n                    <div [formGroupName]=\"pi\" class=\"mb-2\">\n                      <input\n                        type=\"text\"\n                        formControlName=\"phone\"\n                        class=\"form-control\"\n                        placeholder=\"Enter phone#\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                style=\"text-decoration: none; font-size: small\"\n                (click)=\"addContactPhone(i)\"\n              >\n                Add more\n              </button>\n            </div>\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Email Address</label>\n\n              <ng-container formArrayName=\"emailAddress\">\n                <div class=\"col-md-12\">\n                  <div\n                    *ngFor=\"let e of contactEmail(i).controls; let ei = index\"\n                  >\n                    <div [formGroupName]=\"ei\" class=\"mb-2\">\n                      <input\n                        type=\"text\"\n                        formControlName=\"email\"\n                        class=\"form-control\"\n                        placeholder=\"Enter email address\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                style=\"text-decoration: none; font-size: small\"\n                (click)=\"addContactEmail(i)\"\n              >\n                Add more\n              </button>\n            </div>\n            <div class=\"col-md-4 d-flex align-items-center justify-content-end\">\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                style=\"width: 100px\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-primary\"\n                style=\"margin-left: 5px; width: 100px\"\n                (click)=\"getValue()\"\n              >\n                Add\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n    <ng-container *ngIf=\"data$ | async as items\">\n      <div class=\"card p-3 mt-3 border-style\" *ngIf=\"items.length > 0\">\n        <p class=\"fw-bold\">Contact</p>\n        <div class=\"row g-3\">\n          <div class=\"row col-md-12 mt-1\">\n            <div class=\"col-md-2\">Type</div>\n            <div class=\"col-md-2\">Name</div>\n            <div class=\"col-md-2\">Legal Name</div>\n            <div class=\"col-md-2\">Phone Number</div>\n            <div class=\"col-md-2\">Email Address</div>\n            <div class=\"col-md-2\"></div>\n            <div class=\"card mt-3\">\n              <div class=\"card-body\">This is some text within a card body.</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </form>\n  <div class=\"mb-3\" style=\"visibility: hidden\">Test</div>\n</div>\n\n<div class=\"modal modal-backdrop\" [ngStyle]=\"{ display: displayStyle }\">\n  <div class=\"modal-dialog modal-dialog-centered\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\">Enter Group Name</h4>\n        <button\n          type=\"button\"\n          class=\"btn-close\"\n          aria-label=\"Close\"\n          (click)=\"close()\"\n        ></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"form-group\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Enter group name\"\n            [formControl]=\"modalGroupName\"\n          />\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"savePopup()\">\n          Save\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}